<!DOCTYPE html>
<html><head>
<title>Improve your web performance by switching from HTTP 1.1 to HTTP 2.0</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="Improve your web performance by switching from HTTP 1.1 to HTTP 2.0" />
<meta property="og:description" content="HTTP 2.0 is the improvement in HTTP 1.0 which was introduced late in 2015. To understand HTTP 2.0 better, let&rsquo;s first deep dive into the history of HTTP.
History of HTTP HTTP 0.9 HTTP 0.9 was introduced in 1991. At that time most of the websites were having basic text-based content hyperlinked to each other. It was working as its name suggests - Hyper Text Transfer Protocol.
 Basic Operations GET, POST, HEAD were supported." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.ektagarg.com/posts/performance-improvement-with-http2/" />
<meta property="article:published_time" content="2021-02-16T02:01:58+05:30" />
<meta property="article:modified_time" content="2021-02-16T02:01:58+05:30" /><meta property="og:site_name" content="My Blog" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Improve your web performance by switching from HTTP 1.1 to HTTP 2.0"/>
<meta name="twitter:description" content="HTTP 2.0 is the improvement in HTTP 1.0 which was introduced late in 2015. To understand HTTP 2.0 better, let&rsquo;s first deep dive into the history of HTTP.
History of HTTP HTTP 0.9 HTTP 0.9 was introduced in 1991. At that time most of the websites were having basic text-based content hyperlinked to each other. It was working as its name suggests - Hyper Text Transfer Protocol.
 Basic Operations GET, POST, HEAD were supported."/>







<script src="/vendor/js/jquery.min.js" ></script>
<script src="/vendor/js/popper.min.js" ></script>
<script src="/vendor/js/bootstrap.min.js" ></script>
<script src="/vendor/js/smooth-scroll.polyfills.min.js" ></script>
<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">
<script src="/vendor/js/vue.min.js" ></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">




<link rel="icon" href="https://blog.ektagarg.com/icons/favicon.ico">




<link rel="stylesheet" href="https://blog.ektagarg.com/scss/journal.min.b0674720df90a57fb5506a1005f20510c67faa0317fc0a184d20dd666b8fe694.css" integrity="sha256-sGdHIN&#43;QpX&#43;1UGoQBfIFEMZ/qgMX/AoYTSDdZmuP5pQ=" media="screen">



<link rel="stylesheet" href="https://blog.ektagarg.com/scss/dark-mode.min.a89358d1848ec56df21efc76a0798960032ebe3bf59d81107e7413dc9761d571.css" integrity="sha256-qJNY0YSOxW3yHvx2oHmJYAMuvjv1nYEQfnQT3Jdh1XE=" media="screen">


<script src="https://blog.ektagarg.com/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Noto+Serif+SC|Material+Icons");
</script>




  
    <script src="https://blog.ektagarg.com/js/toc-collapse.js"></script>
  



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="/vendor/js/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
  clientID: 'your client id',
  clientSecret: 'your client secret',
  repo: 'repo name',
  owner: 'user',
  admin: ['user'],
  id: md5(location.pathname),
  distractionFreeMode: 'false'
  });
  window.onload = function () {
        gitalk.render('gitalk-container')
  }
</script>







<script src="https://cdn.jsdelivr.net/npm/vue-disqus@3/dist/vue-disqus.js"></script>


</head>
<body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    <div class = "nav-head active">
    
    <a class="a-block false" href="https://blog.ektagarg.com">
    
        <div class="nav-title">
                
            Blog by Ekta
        </div>
        <div class="nav-subtitle">
            <a href="https://github.com/ektagarg"><i class="fa fa-github social-media"></i></a>
            <a href="https://twitter.com/_ektagarg"><i class="fa fa-twitter social-media" ></i></a>
            <a href="https://www.linkedin.com/in/ekta-garg-bb9a48a3/"><i class="fa fa-linkedin social-media"></i></a>
        </div>
    </a>
    </div>
    <div class="nav-link-list">
        
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/me">
                About
            </a>
            
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/posts">
                Archive
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Categories
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Tags
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
 Built with <a href="https://gohugo.io/">Hugo</a>
<br>

&copy;
	
	2020 Blog by Ekta
	

    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>-  -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#history-of-http" onclick="onNavClick(`#history-of-http-nav`)" id="history-of-http-nav">
									History of HTTP
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#http-09" onclick="onNavClick(`#http-09-nav`)" id="http-09-nav">
									HTTP 0.9
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#http-10" onclick="onNavClick(`#http-10-nav`)" id="http-10-nav">
									HTTP 1.0
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#http-11" onclick="onNavClick(`#http-11-nav`)" id="http-11-nav">
									HTTP 1.1
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#but-what-was-not-right-with-http-11" onclick="onNavClick(`#but-what-was-not-right-with-http-11-nav`)" id="but-what-was-not-right-with-http-11-nav">
									But what was not right with HTTP 1.1?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#1-hol--head-of-line" onclick="onNavClick(`#1-hol--head-of-line-nav`)" id="1-hol--head-of-line-nav">
									1. HOL- Head of Line
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#2-repetition-of-header-data" onclick="onNavClick(`#2-repetition-of-header-data-nav`)" id="2-repetition-of-header-data-nav">
									2. Repetition of Header Data
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#how-come-http-20-going-to-solve-all-the-problems" onclick="onNavClick(`#how-come-http-20-going-to-solve-all-the-problems-nav`)" id="how-come-http-20-going-to-solve-all-the-problems-nav">
									How come HTTP 2.0 going to solve all the problems?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#http-20" onclick="onNavClick(`#http-20-nav`)" id="http-20-nav">
									HTTP 2.0
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/me">
                    About
                </a>
                
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/posts">
                    Archive
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Categories
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Tags
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>-  -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#history-of-http" onclick="onNavClick(`#history-of-http-nav`)" id="history-of-http-nav">
									History of HTTP
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#http-09" onclick="onNavClick(`#http-09-nav`)" id="http-09-nav">
									HTTP 0.9
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#http-10" onclick="onNavClick(`#http-10-nav`)" id="http-10-nav">
									HTTP 1.0
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#http-11" onclick="onNavClick(`#http-11-nav`)" id="http-11-nav">
									HTTP 1.1
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#but-what-was-not-right-with-http-11" onclick="onNavClick(`#but-what-was-not-right-with-http-11-nav`)" id="but-what-was-not-right-with-http-11-nav">
									But what was not right with HTTP 1.1?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#1-hol--head-of-line" onclick="onNavClick(`#1-hol--head-of-line-nav`)" id="1-hol--head-of-line-nav">
									1. HOL- Head of Line
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#2-repetition-of-header-data" onclick="onNavClick(`#2-repetition-of-header-data-nav`)" id="2-repetition-of-header-data-nav">
									2. Repetition of Header Data
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#how-come-http-20-going-to-solve-all-the-problems" onclick="onNavClick(`#how-come-http-20-going-to-solve-all-the-problems-nav`)" id="how-come-http-20-going-to-solve-all-the-problems-nav">
									How come HTTP 2.0 going to solve all the problems?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#http-20" onclick="onNavClick(`#http-20-nav`)" id="http-20-nav">
									HTTP 2.0
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="https://blog.ektagarg.com">
            Blog by Ekta
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <div class="single-column-header-title"><a href="https://blog.ektagarg.com">Blog by Ekta</a></div>
        <div class="single-column-header-subtitle">
            <a href="https://github.com/ektagarg"><i class="fa fa-github social-media"></i></a>
            <a href="https://twitter.com/_ektagarg"><i class="fa fa-twitter social-media" ></i></a>
            <a href="https://www.linkedin.com/in/ekta-garg-bb9a48a3/"><i class="fa fa-linkedin social-media"></i></a>
        </div>
    </a>
</div>

            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://blog.ektagarg.com/images/http2/http2-top.png')"
                    
                
            >
                <div class="post-title">
                    Improve your web performance by switching from HTTP 1.1 to HTTP 2.0
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/web">Web</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/web">Web</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <p>HTTP 2.0 is the improvement in HTTP 1.0 which was introduced late in 2015. To understand HTTP 2.0 better, let&rsquo;s first deep dive into the history of HTTP.</p>
<h2 id="history-of-http">History of HTTP</h2>
<p><img src="/images/http2/HTTP2.png" alt="History of HTTP"></p>
<h3 id="http-09">HTTP 0.9</h3>
<p>HTTP 0.9 was introduced in 1991. At that time most of the websites were having basic text-based content hyperlinked to each other. It was working as its name suggests - Hyper Text Transfer Protocol.</p>
<ul>
<li>Basic Operations GET, POST, HEAD were supported.</li>
<li>Its purpose was to serve basic websites hyperlinked with each other.</li>
</ul>
<h3 id="http-10">HTTP 1.0</h3>
<p>After 5 years, HTTP 1.0 was introduced with a few other basic operations like PUT, DELETE, LINK, and UNLINK methods.</p>
<h3 id="http-11">HTTP 1.1</h3>
<p>Immediately after 1 year, in 1997, HTTP 1.1 was introduced. This is the current HTTP protocol which we are still using.</p>
<ul>
<li>HTTP 1.1 was introduced with few changes because that was the internet revolution phase, the internet ecosystem was rapidly growing. Websites like an email client, search engines, social media giants were getting created with heavily loaded dynamic content. Most platforms had high usage of images, interactive content, more features that required high resource usage.</li>
</ul>
<p>A lot of things were introduced to make the internet fast and allowing users to access the server faster.</p>
<ul>
<li>Support of OPTIONS</li>
<li>CORS, Keep-alive was part of this version of HTTP</li>
</ul>
<h2 id="but-what-was-not-right-with-http-11">But what was not right with HTTP 1.1?</h2>
<p>In HTTP 1.1 for achieving speed on the website, if you are already a web developer you must be knowing these, that we are advised to do compression, caching, minifying CSS/JS, image sprites for icons, and another resource because the TCP connection used between the client and server are limited.</p>
<h4 id="1-hol--head-of-line">1. HOL- Head of Line</h4>
<p>Whenever a client requests a URL, an HTTP request is sent via a TCP connection, which is created between the client and the server. Initially, there was only a single TCP connection.</p>
<p>Let&rsquo;s understand this with an example:</p>
<p>If a user requests for say, home.html, which we know for sure that internally requires a CSS and a JS file. So the first request will be created for the home.html file, as there is a single TCP connection, it will wait for the response of that home.html i.e. TCP connection stays blocked until it receives a response. and after it receives home.html, the next request will be sent for CSS file and then next would be for JS file in a similar manner.</p>
<p>Later on, this was increased to 6 parallel TCP connections, but these days websites are at a much larger scale and even 6 TCP connections are not enough.</p>
<h4 id="2-repetition-of-header-data">2. Repetition of Header Data</h4>
<p>HTTP is a stateless connection, which means every request is independent of the previous and the next request, so each request has to contain request header data.</p>
<pre><code>Request Header:
user-agent:xxx
cookie:xxx
cache-control:xxx
</code></pre><p>The same header is packed with all the requests and responses and it is useless sometimes when it is precisely same in all the requests. Header data can not be compressed, while you can compress the body of the request.</p>
<h1 id="how-come-http-20-going-to-solve-all-the-problems">How come HTTP 2.0 going to solve all the problems?</h1>
<p><img src="/images/http2/http-2-file.png" alt="HTTP 2.0"></p>
<h3 id="http-20">HTTP 2.0</h3>
<ol>
<li><strong>Single Secured TCP Connection</strong>: This is the solution to problem 1: HOL- Head of Line</li>
</ol>
<ul>
<li>
<p>In HTTP 2.0, a single secured TCP connection has been used, in which streams are created.
Each HTTP request will be sent into streams over a single secured TCP connection.</p>
</li>
<li>
<p>It is faster, as you are not setting up multiple TCP connections here, and the client is managing the streams which are multiplexing of streams into a single TCP connection.</p>
</li>
</ul>
<p><strong>NOTE: It is mandatory to have HTTPS setup for HTTP2</strong></p>
<ol start="2">
<li><strong>HPACK</strong>: This is the solution to problem 2: Repetition of Header Data</li>
</ol>
<ul>
<li>
<p>Header data is separated from basic request data. It allows compression of header data.</p>
</li>
<li>
<p>If the preceding request had some header data, HPACK automatically enables the caching of that header data. Each request will not contain the same header data repeatedly which will make request data and delivery of data much faster on websites.</p>
</li>
</ul>
<ol start="3">
<li><strong>PUSH</strong>: PUSH frames enable us to send mandatory resources along with the HTTP response. They should be used with care as they can increase the size of the HTTP response.</li>
</ol>
<p>For eg: You request a home.html page from a website and you know that to show this page on the browser, you must need a CSS and a JS file.
You can make your request in such a way that server will send home.html along with the required CSS and JS file.</p>
<ol start="4">
<li>
<p>Along with all this, we can keep on using gzip, browser caching, minifying CSS/JS to further improve the performance.</p>
</li>
<li>
<p>Almost all of the modern browsers support HTTP 2.0</p>
</li>
</ol>
<p>If you are moving from HTTP 1.1 to HTTP 2.0, the users using old browsers which are typically using HTTP 1.1 will be served via HTTP 1.1 only as HTTP 2.0 is built on top of HTTP 1.1</p>
<p>With more and more adoption of HTTP 2.0, all of the modern servers are becoming compliant to HTTP 2.0 If you are looking for improving the performance of your website, you should definitely move from HTTP 1.1 to HTTP 2.0</p>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;"></p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://blog.ektagarg.com/posts/cdn/">
			<br>CDN: Content Delivery Network
                </a>
                
                
                
                <a class="older-posts" href="https://blog.ektagarg.com/posts/slack-bot-using-zapier/">
			<br>Slack bot using [Zapier &#43; Redash &#43; Google sheets &#43; Slack]
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                
<div class="comments">
    <vue-disqus shortname="ektagarg"></vue-disqus>
</div>
<noscript><noscript></noscript></noscript>
<a href="https://disqus.com/" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>



<div id="gitalk-container"></div>






            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
 Built with <a href="https://gohugo.io/">Hugo</a>
<br>

&copy;
	
	2020 Blog by Ekta
	
</div>
            </div>
    <script>
let app;

app = new Vue({
    el: '#app',
    data: {
        scrollY: 0,
        navOpacity: 0,
        isDrawerOpen: false,
        mounted: false,
        isDarkMode: false
    },
    methods: {
            sgn(t, x) {
                let k = 1. / (1. - 2 * t);
                if (x <= t) return 0;
                else if (x >= 1 - t) return 1;
                else {
                    return k * (x - t);
                }
            },
            handleScroll() {
                this.scrollY = window.scrollY;
                this.navOpacity = this.sgn(.0, Math.min(1, Math.max(0, window.scrollY / (this.pageHeadHeight() - this.navBarHeight() * 0.8))));
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;

                if (this.navOpacity >= 1) {
                    navBackground.style.opacity = 1;
                    navTitle.style.opacity = 1;
                } else {
                    navBackground.style.opacity = 0;
                    navTitle.style.opacity = 0;
                }
            },
            handleResize() {
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;
                extraContainer.style.left = (streamContainer.offsetWidth - extraContainer.offsetWidth) + 'px';
            },
            navBarHeight() {
                return this.$refs.navBar.offsetHeight;
            },
            pageHeadHeight() {
                return this.$refs.pageHead.offsetHeight;
            },
            toggleDrawer() {
                this.isDrawerOpen = !this.isDrawerOpen;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            closeDrawer() {
                this.isDrawerOpen = false;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                if (this.isDarkMode==true){
                    document.cookie = "night=1;path=/";
                    document.body.classList.add("night");
                } else {
                    document.cookie = "night=0;path=/";
                    document.body.classList.remove("night");
                }
            }
    },
    created() {
        window.addEventListener('scroll', this.handleScroll);
        window.addEventListener('resize', this.handleResize);
        window._nonDesktop = function () {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };
        
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1");
        if (night==""){
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                
            }
        }else{
            
            if (night=="1") {
                this.toggleDarkMode();
            }
        }
    },
    mounted() {
        this.handleScroll();
        this.handleResize();
        this.mounted = true;

        
    },
    destroyed() {
        window.removeEventListener('scroll', this.handleScroll);
        window.removeEventListener('resize', this.handleResize);
    }
});
</script>

<script src="https://blog.ektagarg.com/js/journal.js"></script>
    </body>
</html>
